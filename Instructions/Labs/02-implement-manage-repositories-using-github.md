---
lab:
  title: GitHub で作業フローを実装する
  module: Develop with DevOps
---

# ラボ 02 - GitHub で作業フローを実装する

## 推定時間:30 分

## シナリオ

このモジュールのシナリオを覚えておいてください。あなたは小売業界のソフトウェア開発会社で働いており、そこでオンライン ストアを古いアプリから eShopOnWeb という新しいアプリに移行することを計画しているとします。 Git と GitHub を使用してアプリケーションのライフサイクル管理を容易にすることを決定したので、このラボでは、まず既存のリポジトリをフォークし、その構成、issue の作成、ブランチの作成、ブランチ内のファイルの更新、pull request の作成とマージ、issue の終了、変更の検証を行うことができます。

## 目標

このラボでは、次のことを行います。

- GitHub を使ってリポジトリを実装および管理する

> **注:**  このラボと以降のラボには、最初のラボのために作成したのと同じ GitHub アカウントを使用してください。

## 前提条件

- 「[ラボ 01 - GitHub を使用したアジャイルの計画管理](01-agile-planning-management-using-github.md)」を完了していること

## 演習 1: GitHub を使ってリポジトリを実装して管理する

この演習では、Git リポジトリをフォークし、GitHub を使用して管理します。

> **重要:** GitHub Copilot for pull request 機能の使用は、完全に任意です。 この機能を使用するには、**Copilot Enterprise サブスクリプション** を持つ企業のメンバーである必要があります。 アクセス権がない場合は、GitHub Copilot for pull request 機能に関連する手順をスキップできます。 GitHub Copilot for pull request 機能の詳細については、「[Copilot pull request summary について](https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-pull-request-summaries/about-copilot-pull-request-summaries)」を参照してください。

> **注:**  このコースの最初のラボで新しいリポジトリを作成しました。 このラボでは、まず、既存のリポジトリをフォークします。 フォークは、コードと可視性の設定を既存のアップストリーム リポジトリと共有するリポジトリです。 このアプローチは、オープンソース プロジェクトの更新を開発する場合、またはアップストリーム リポジトリへの書き込みアクセスが利用できないシナリオで頻繁に使用されます。 詳細については、「[フォークを使って作業する](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks)」を参照してください。

演習は次のタスクで構成されます。

- タスク 1:GitHub リポジトリをフォークする
- タスク 2:GitHub リポジトリを構成する
- タスク 3:issue を作成する
- タスク 4:ブランチを作成する
- タスク 5:ブランチ内のファイルを更新する
- タスク 6:pull request を作成してマージする
- タスク 7:issue を閉じる
- タスク 8:変更を検証する

### タスク 1:GitHub リポジトリをフォークする

1. Web ブラウザーを起動し、[GitHub](https://github.com) ホーム ページに移動します。
1. 認証を求めるメッセージが表示されたら、GitHub ユーザー アカウントを使用してサインインします。
1. 同じブラウザー ウィンドウで別のタブを開き、[Spoon-Knife](https://github.com/octocat/Spoon-Knife) リポジトリに移動します。
1. **[Spoon-Knife]** リポジトリ ページで、**[フォーク]** を選択します。
1. **[新しいフォークの作成]** ページで、**[所有者]** ドロップダウン リスト エントリにお使いの GitHub ユーザー名が表示されていることを確認し、**[リポジトリ名]** テキスト ボックスで既定のエントリ **[Spoon-Knife]** を受け入れ、**[メイン ブランチのみをコピーする]** チェック ボックスをオンのままにして、**[フォークの作成]** を選択します。

   > **注:**  ブラウザー セッションが、フォークされたリポジトリに自動的にリダイレクトされます。

### タスク 2:GitHub リポジトリを構成する

1. フォークされた **[Spoon-Knife]** リポジトリ ページのツール バーで、**[設定]** を選択します。
1. **[設定]** タブの **[全般]** セクションで、既定のブランチが **main* に設定されていることを確認します。
1. **[全般]** セクションの **[機能]** 領域に移動し、**[Issues]** チェックボックスをオンにします。
1. 左側のナビゲーション メニューの **[コードと自動化]** グループで、**[ページ]** エントリを選択します。
1. **[GitHub Pages]** ペインの [ブランチ] セクションで、ドロップダウン リストの **[なし]** エントリを **[main]** に変更し、**[保存]** を選択します。

   > **注:**  GitHub Pages によって、リポジトリのコンテンツは、URL (`https://<your_GitHub_username>.github.io/Spoon-Knife/`) 経由でアクセスできるサイトに自動的に公開されます。

1. **GitHub Pages** ペインで、**[サイトにアクセスする]** ボタンを選択します。 これにより、別の Web ブラウザー タブが自動的に開き、index.html ファイルの現在の内容を表すページが表示されます。

   > **注:**  **[サイトにアクセスする]** ボタンとそのページが使用できるようになるまで、数分待つことが必要な場合があります。

   > **注:**  最初のラボを完了している場合は、このタスクの残りの手順を実行します。

1. フォークされた **[Spoon-Knife]** リポジトリ ページに戻り、ツール バーで **[プロジェクト]** を選択します。
1. **[新規プロジェクトへようこそ]** ペインで、**[プロジェクトのリンク]** を選択し、ドロップダウン メニューで **[既存のプロジェクトをリンクする]** を選択します。
1. 既存のプロジェクトの一覧で、**[DevOps Core Intro Project]** を選択します。

### タスク 3:issue を作成する

1. フォークされた **[Spoon-Knife]** ページで、**[Issues]** タブを選択します。
1. **[issue へようこそ]** ページで、**[新規 issue]** を選択します。
1. **[タイトルの追加]** テキスト ボックスに、「**index.html がやや質素に見える**」と入力します。
1. **[説明の追加]** テキスト ボックスに、「**index.html ファイルで最新のタッチを使用可能**」と入力します。
1. 現在のペインの [担当者] セクションで、**[担当者の追加...]** を選択し、**[候補]** セクションで、GitHub ユーザー名を選択します。
1. **[ラベル]** エントリの横にある歯車アイコンを選択し、ドロップダウン リストで **[拡張機能]** を選択します。
1. **[プロジェクト]** エントリの横にある歯車アイコンを選択し、ドロップダウン リストで **[DevOps Core Intro Project]** を選択します。
1. **[Submit new issue] (新しい issue の送信)** を選びます。
1. **[index.html がやや質素に見える]** ペインの **[プロジェクト]** セクションで、**[状態]** を **[進行中]** に設定します。
1. フォークされた **[Spoon-Knife]** ページで、**[プロジェクト]** タブを選択します。
1. **[新規プロジェクトへようこそ]** ページで、**[DevOps Core Intro Project]** を選択します。
1. **DevOps Core Intro Project** のボード ビューで、**[進行中]** 列を確認し、新しく作成した issue が含まれていることを確認します。

### タスク 4:ブランチを作成する

1. **[コード]** タブに戻ります。
1. ページの左上隅にある **[main]** エントリを選択し、**[ブランチまたはタグの切り替え]** ドロップダウン リストを表示します。
1. **[ブランチの検索または作成...]** テキスト ボックスに、「**index.html の更新**」と入力し、**[ブランチの作成: 'main' の index.html を更新]** エントリを選択して新しいブランチを作成します。

   > **注:**  これにより、ドロップダウン リストの内容に示されているように、新しく作成されたブランチが自動的に現在のブランチになります。

### タスク 5:ブランチ内のファイルを更新する

1. フォークされた **[Spoon-Knife]** リポジトリ ページで、ファイルの一覧から **[index.html]** を選択します。
1. **[Spoon-Knife/index.html]** ページで、コード エディター ツール バーの右側にある鉛筆アイコンを選択し、編集モードに切り替えます。
1. エディター ウィンドウで、ページの本文要素全体 (12 行目から 17 行目) を次の HTML コードに置き換えます。

   ```html
   <div id="octocat">
     <img src="https://octodex.github.com/images/NUX_Octodex.gif" alt="Octocat Image">
   </div>

   <p>
     Ready to team up? Let's collaborate, @octocat!
   </p>
   ```

1. エディター ページの右上隅にある **[変更のコミット...]** を選択します。
1. **[変更のコミット...]** ウィンドウの **[詳細説明]** テキスト ボックスに、「**画像と段落のテキストを変更**」と入力し、既定のコミット メッセージを受け入れて、**[変更のコミット]** を選択します。

   > **注:**  この時点で、コミット用の新しいブランチを作成するオプションもあります。

1. 左側のリポジトリ ファイルの一覧で、**[styles.css]** を選択します。
1. **[Spoon-Knife/styles.css]** ページで、コード エディター ツール バーの右側にある鉛筆アイコンを選択し、編集モードに切り替えます。
1. エディター ウィンドウで、17 行目を次の HTML コード全体に置き換えます。

   ```css
     color: #333;
     line-height: 1.5;
     text-align: center;
   }

   body {
     font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
     background-color: #f8f9fa;
   }

   #octocat img {
     display: block;
     width: 100%;
     height: auto;
   }
   ```

1. エディター ページの右上隅にある **[変更のコミット...]** を選択します。
1. **[変更のコミット...]** ウィンドウの **[詳細説明]** テキスト ボックスに、「**CSS タグとセレクターを変更**」と入力し、既定のコミット メッセージを受け入れ、**[変更のコミット]** を選択して update-index.html ブランチの変更をコミットします。

### タスク 6:pull request を作成してマージする

1. フォークされた **[Spoon-Knife]** リポジトリ ページに戻ります。
1. ページの左上隅にあるドロップダウン リストで示されているように、現在 **update-index.html** ブランチが表示されていることを確認します。 このラベルに **main** と表示されている場合は、まずそれを選択し、ブランチの一覧を含むドロップダウン リストで、**[update-index.html]** を選択します。
1. フォークされた **[Spoon-Knife]** リポジトリ ページで、**[コントリビューション]** を選択し、**[pull request を開く]** を選択します。
1. **[pull request を開く]** で、エントリ **[ベース リポジトリ: octocat/Spoon-Knife]** を選択します。
1. **[ベース リポジトリの選択]** ドロップダウン リストで、このラボの開始時に作成した、フォークされたリポジトリの名前を選択します。

   > **注:**  この名前は、GitHub 名で始まり、その後にスラッシュ、**Spoon-Knife** が続きます。 名前を選択すると、エントリが、**ベース: main** に変更されます。

   > **注:**  この操作が必要なのは、フォークの作成元であるリポジトリのメイン ブランチではなく、フォークされたリポジトリのメイン ブランチを更新する必要があるためです。

1. **[タイトルの追加]** テキスト ボックスで、**index.html の更新** を **index.html と styles.css の更新** に置き換えます。

1. (省略可能) GitHub Copilot for pull request 機能にアクセスできる場合は、**[説明の追加]** テキスト ボックスで、**[Copilot アクション]** ボタンをクリックし、**[概要]** を選択します (pull request の変更の概要を生成します)。

   1. GitHub Copilot for pull request 機能によって pull request の変更の概要が生成されます。

       ![GitHub Copilot for pull request 機能](media/github-pull-request-action.png)

   1. GitHub Copilot for pull request によって生成された概要を確認します。

   1. 概要が生成されたら、最初の行の **[説明の追加]** に「**対処 #1**」と入力し、**[pull request の作成]** を選択します。

       ![GitHub Copilot の概要](media/github-pull-request-copilot-summary.png)

   > **注:**  GitHub Copilot for pull request 機能に対するアクセス権がない場合は、この手順をスキップできます。

   > **注:** GitHub Copilot for pull request 機能の使用を選択する場合は、次の手順をスキップできます。

1. **[説明の追加]** テキスト ボックスに、「**対処 #1**」と入力し、**[pull request の作成]** を選択します。

   > **注:**  **#1** を含めると、この pull request に関連付けられた最初の issue を参照できます。

1. 現在のブランチがベース ブランチと競合していないことを確認し、**[pull request のマージ]**、**[マージの確認]** の順に選択します。
1. pull request が正常にマージされ、閉じられたことを確認し、**[ブランチの削除]** を選択します。

### タスク 7:issue を閉じる

1. GitHub ページのツール バーで、**[Issues]** タブを選択します。
1. 最初の issue "**index.html がやや質素に見える**" の左側にあるチェックボックスをオンにし、**[としてマークする]** を選択し、ドロップダウン リストで **[終了]** を選択します。
1. **DevOps Core Intro Project** のボード ビューに戻り、issue が **[完了]** 列に表示されるようになったことを確認します。

### タスク 8:変更を検証する

1. Web ブラウザー ウィンドウで、フォークされた **[Spoon-Knife]** リポジトリ ページに戻り、**[設定]** タブを選択し、左側のナビゲーション メニューの **[コードと自動化]** グループで **[Pages]** を選択し、**[GitHub Pages]** ペインを表示します。
1. **[GitHub Pages]** ペインで **[サイトにアクセスする]** を選択すると、別のブラウザー タブが開き、index.html ファイルの更新された内容が表示されます。
1. HTML および CSS ファイルで参照されるビジュアル要素を含むようにページが更新されていることを確認します。

> **注:**  この時点で、フォーク内のメイン ブランチへの変更を元のリポジトリに送信することになる場合があります。 これは通常、更新プログラムを開発するときに、オープンソース プロジェクトで共同作業する場合の次のステップになります。 ただし、元のリポジトリが保持されなくなるため、ここでは、この手順を適用しません。
